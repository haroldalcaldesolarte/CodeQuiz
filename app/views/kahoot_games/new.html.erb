<div class="container d-flex justify-content-center mt-5">
  <div class="card text-center shadow p-4" style="width: 50rem;">
    <% if has_active_kahoot_games?(current_user)%>
      <h5 class="card-title mb-4">No puedes crear un nuevo kahoot!</h5>
      <h6 class="card-subtitle mb-3 text-muted">Ya tienes una partida en espera o en progreso.</h6>
      <%= link_to 'Ir a la partida'.html_safe, "#{kahoot_games_path}/#{get_waiting_kahoot_game_id(current_user)}", class: "mt-3 link-primary" %>
    <% else %>
      <h5 class="card-title mb-4">Crear Kahoot</h5>
      <%= form_with(model: @kahoot_game, url: kahoot_games_path, local: true) do |form| %>
        <div class="row mb-3">
          <%= form.label 'Categoría' , class: "col-sm-2 col-form-label" %>
          <div class="col-sm-10">
            <%= form.collection_select :category_id, @categories, :id, :name, { prompt: "Selecciona una categoría" }, { class: "form-select mb-3", required: true} %>
          </div>
        </div>

        <div class="row mb-3">
          <%= form.label 'Nivel' , class: "col-sm-2 col-form-label" %>
          <div class="col-sm-10">
            <%= form.collection_select :level_id, @levels, :id, :name, { prompt: "Selecciona un nivel" }, { class: "form-select mb-3", required: true} %>
          </div>
        </div>

        <div>
          <%= form.submit "Iniciar kahoot!", class: "btn btn-primary btn-lg" %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>